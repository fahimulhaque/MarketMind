# ──────────────────────────────────────────────
#  TickerAgent — Environment Configuration
# ──────────────────────────────────────────────
#  Copy this file to .env and fill in your keys.
#  For Docker: docker compose --profile platform up
#  For local dev: override hostnames to localhost.
# ──────────────────────────────────────────────

# --- PostgreSQL ---
POSTGRES_DB=tickeragent
POSTGRES_USER=tickeragent
POSTGRES_PASSWORD=tickeragent
POSTGRES_HOST=postgres
POSTGRES_PORT=5432

# --- Redis ---
REDIS_HOST=redis
REDIS_PORT=6379

# --- Ollama (local LLM) ---
OLLAMA_HOST=http://ollama:11434
OLLAMA_EMBED_MODEL=nomic-embed-text
OLLAMA_GENERATE_MODEL=qwen2.5:1.5b
EMBEDDING_VECTOR_SIZE=768
OLLAMA_NUM_PARALLEL=2
OLLAMA_MAX_LOADED_MODELS=1
OLLAMA_KEEP_ALIVE=10m
OLLAMA_CPU_LIMIT=4.0
OLLAMA_MEM_LIMIT=4g

# --- Pipeline Settings ---
INTELLIGENCE_PIPELINE_TIMEOUT=600

# --- LLM Performance Tuning ---
LLM_CACHE_TTL_SECONDS=900
OLLAMA_MAX_CONCURRENT=2
OLLAMA_REQUEST_TIMEOUT=120.0

# --- Application ---
APP_HOST=0.0.0.0
APP_PORT=8000
LOG_LEVEL=INFO
API_WRITE_KEY=tickeragent-dev-key
API_CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# --- Ingestion Policy ---
INGEST_MIN_INTERVAL_SECONDS=60
INGEST_USER_AGENT=TickerAgentBot/0.1 (+https://localhost)
INGEST_ALLOWED_DOMAINS=
INGEST_POLICY_REQUIRE_ROBOTS=true
INGEST_POLICY_DENY_ON_ROBOTS_ERROR=false

# --- Data Retention ---
RETENTION_INSIGHTS_DAYS=90
RETENTION_SNAPSHOTS_DAYS=90
RETENTION_REPORTS_DAYS=180
RETENTION_SEARCH_DAYS=60
RETENTION_AUDIT_DAYS=365

# --- Data Provider API Keys (leave empty to disable a provider) ---
SEC_EDGAR_USER_AGENT=TickerAgent admin@localhost
FRED_API_KEY=
ALPHA_VANTAGE_API_KEY=
FMP_API_KEY=

# --- Cloud LLM Provider (primary) ---
# Supported: gemini, claude, openai, groq, openrouter, together
# Falls back to local Ollama if LLM_API_KEY is empty.
LLM_PROVIDER=groq
LLM_API_KEY=
# Optional overrides (leave empty for defaults):
# LLM_API_BASE_URL=
# LLM_CLOUD_MODEL=
